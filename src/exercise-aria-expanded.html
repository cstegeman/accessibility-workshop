<!doctype html>
<html lang="en">
<head>
    <title>Aria expanded - Accessibility workshop</title>
    <link rel="stylesheet" href="css/styles.css" media="all">
</head>
<body>
<main role="main">
    <h1>Aria expanded</h1>

    <p class="notice">For the next exercise make use of the "aria-expanded" attribute to provide extra context when
        toggling content.</p>

    <section>
        <button id="button1" aria-controls="t1" onclick="toggleRegion()" aria-expanded="false">
            <span>Show</span>
            Topic 1
        </button>
        <div id="t1" class="topic is-hidden" role="region" tabindex="-1">
            Topic 1 is all about being Topic 1 and may or may not have anything to do with other topics.
        </div>
        <script>
            function toggleRegion() {
                const toggleClass = 'is-hidden';
                const element = document.querySelector('#button1');
                const target = document.querySelector(`#${element.getAttribute('aria-controls')}`);
                const text = element.querySelector('span');

                if (target.classList.contains(toggleClass)) {
                    target.classList.remove(toggleClass);
                    element.focus();
                    element.setAttribute('aria-expanded', 'true')
                    text.textContent = 'Hide';
                } else {
                    target.classList.add(toggleClass);
                    element.setAttribute('aria-expanded', 'false')
                    text.textContent = 'Show';
                }
            }
        </script>
    </section>
</main>
</body>
</html>
