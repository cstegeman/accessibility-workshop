<!doctype html>
<html lang="en">
<head>
    <title>Aria role dialog - Accessibility workshop</title>
    <link rel="stylesheet" href="css/styles.css" media="all">
</head>
<body>
<main role="main">
    <h1>Aria role dialog</h1>

    <p class="notice">In the following exercise make the dialog below accessible for screen readers.</p>

    <button id="button-open" type="button">Show stock information</button>

    <div class="dialog is-hidden" role="dialog" aria-labelledby="title" aria-describedby="description">
        <h2 id="title">On Stock</h2>
        <p id="description">If you order now, your order will be ready for you right away in our store in Amsterdam</p>
        <button id="button-close">Close</button>
    </div>

    <script>
        (function() {
            const buttonOpen = document.querySelector('#button-open');
            const buttonClose = document.querySelector('#button-close');
            const dialog = document.querySelector('.dialog');
            let activeElement;

            buttonClose.addEventListener('click', () => {
                if (activeElement) {
                    activeElement.focus();
                }
                dialog.classList.add('is-hidden');
            })

            buttonOpen.addEventListener('click', () => {
                dialog.classList.remove('is-hidden');
                activeElement = document.activeElement;
                buttonClose.focus();
            })
        }());
    </script>
</main>
</body>
</html>
